<html>
  <head>
    <title>AR Winding Number</title>
    <script src="/aframe.min.js"></script>
    <script _src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="./camera-controls-component.js"></script>
    <script src="./persistent-anchors-component.js"></script>
    <script src="./winding-number-component.js"></script>
  </head>
  <body>
    <a-scene
      shadow="type: pcfsoft"
      renderer=" colorManagement:true; toneMapping:ACESFilmic;"
      persistent-anchors="target: #sceneContainer; targetAnchor: #internalAnchor;"
      webxr="optionalFeatures: anchors;"
      winding-number="center: #windingNumber; origin: #origin; world: #park; text: #text"
    >
      <a-assets>
        <a-asset-item
          id="apartmentModel"
          src="https://cdn.glitch.global/92905fa6-6d62-410a-a5c8-2fc4bf919348/apartment_cleanup.glb?v=1670607181863"
        ></a-asset-item>
        <img
          id="logo"
          src="https://cdn.glitch.global/076b8a9d-edd5-4b03-aad8-16cddea03d45/logo%20(1).png?v=1668286339018"
        />
        <a-asset-item
          id="anchorModel"
          src="https://cdn.glitch.global/92905fa6-6d62-410a-a5c8-2fc4bf919348/toon_low-poly_anchor.glb?v=1670427764304"
        ></a-asset-item>
        <a-asset-item
          id="parkModel"
          src="https://cdn.glitch.global/6c283599-191e-4c4a-b236-e1e1f0d90e7a/park.glb?v=1659700338547"
        ></a-asset-item>
      </a-assets>

      <a-entity visible="false" id="anchor">
        <a-box scale="0.01 0.01 0.01" color="red" visible="false"></a-box>
        <a-entity position="0 -0.12 -0.1">
          <a-entity
            gltf-model="#anchorModel"
            scale="0.020 0.020 0.020"
            position="0 0.119 0"
            rotation="90 0 0"
          ></a-entity>
        </a-entity>
      </a-entity>

      <a-entity id="sceneContainer">
        <a-text
          id="text"
          color="black"
          value="Floor 1"
          rotation="0 90.338 0"
          scale="2.9202 2.9202 2.9202"
          position="-5.51299 1.54647 -0.54919"
        ></a-text>
        <a-entity id="windingNumber" position="-0.8335 0 -3.38"></a-entity>
        <a-entity id="origin" position="0.10454711387802074 1.6 -5.227105932443793"></a-entity>
        <a-entity id="internalAnchor" position="0.668 1.02778 -2.143">
          <a-entity position="0 -0.12 -0.1">
            <a-entity
              gltf-model="#anchorModel"
              scale="0.020 0.020 0.020"
              position="0 0.119 0"
              rotation="90 0 0"
            ></a-entity>
          </a-entity>
        </a-entity>
        <a-entity
          data-toggle-visibility
          data-color-write="true"
          gltf-model="#apartmentModel"
          position="-2.185 1.53 -2.77"
          scale="1 1 1"
          shadow="receive: true; cast: false;"
          rotation="0 180 0"
          id="apartment"
        ></a-entity>
        <a-image
          _src="#logo"
          src="https://cdn.glitch.global/076b8a9d-edd5-4b03-aad8-16cddea03d45/logo%20(1).png?v=1668286339018"
          side="front"
          croquet="name: poster"
          position="-5.542 1.576 -4.128"
          scale="1 1 1"
          rotation="0 90.000 0"
        ></a-image>

        <a-entity id="park">
          <a-entity position="31.445 -13.470 -101.239" rotation="0 49.707 0">
            <a-entity scale="0.1 0.1 0.1">
              <a-entity gltf-model="#parkModel"></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-camera position="0 1.6 0" id="camera"></a-camera>

      <a-entity
        id="leftHandControls"
        oculus-touch-controls="hand: left; model: false;"
        camera-controls="hand: left;"
      ></a-entity>
      <a-entity
        id="rightHandControls"
        oculus-touch-controls="hand: right; model: false;"
        camera-controls="hand: right;"
      >
        <a-box visible="false" color="red" scale="0.01 0.01 0.01"></a-box>
        <a-entity position="0 -0.12 -0.1" id="handAnchor">
          <a-entity
            gltf-model="#anchorModel"
            scale="0.020 0.020 0.020"
            position="0 0.119 0"
            rotation="90 0 0"
          ></a-entity>
        </a-entity>
      </a-entity>

      <a-sky color="powderblue"></a-sky>
    </a-scene>
  </body>
  <script></script>
</html>
